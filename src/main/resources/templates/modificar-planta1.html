<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>Book register</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<body class="bg-light" cz shortcut-list="true">
    <nav class="navbar navbar-expand navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand col-2" href="/">OREVIV</a>
            <div class="collapse navbar-collapse col-8" id="navbarSupportedContent">
                <ul class="navbar-nav navbar-nav nav-fill w-100">
                    <li class="nav-item border-end col-6">
                        <a class="nav-link active" aria-current="page" href="#">Listar</a>
                    </li>
                    <li class="nav-item dropdown col-6">
                        <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button"
                            aria-expanded="false">Cargar
                            Producto</a>
                        <ul class="dropdown-menu container-fluid">
                            <li><a class="dropdown-item" href="#">Plantas</a></li>
                            <li><a class="dropdown-item" href="#">Macetas</a></li>
                            <li><a class="dropdown-item" href="#">Accesorios</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <a class="navbar-brand col-2"></a>
        </div>
    </nav>

    <div class="container">

        <form class="needs-validation" action="/planta/guardar" method="POST" enctype="multipart/form-data">
            <div class="row g-4">
                <div class="col-sm-6">
                    <label class="form-label" for="nombre">Nombre</label>
                    <input id="nombre" type="text" name="nombre" class="form-control" value="">
                </div>
                <div class="col-sm-6">
                    <label class="form-label" for="precio">Precio</label>
                    <input id="precio" type="number" name="precio" step="any" class="form-control" value=0>
                </div>
                <div class="col-sm-6">
                    <label class="form-label" for="stock">Stock</label>
                    <input id="stock" type="number" name="stock" class="form-control" value=0>
                </div>
                <div class="col-sm-6">
                    <!--<label class="form-label" for="tamaño">Tamaño</label>
                    <input id="tamaño" type="text" name="tamaño" class="form-control">-->
                    <select class="form-control" type="text" id="tamanio" name="tamanio">
                        <option selected value="">Tamaño</option>
                        <option value="chico">Chico</option>
                        <option value="mediano">Mediano</option>
                        <option value="grande">Grande</option>
                        <option value="no definido">No definido</option>
                    </select>
                </div>

                <div class="col-sm-6">
                    <label class="form-label" for="descripcion">Descripción</label>
                    <input id="descripcion" type="text" name="descripcion" class="form-control" value="">
                </div>
                <div class="col-sm-6">
                    <!--<label class="form-label" for="luz">Luz</label>
                        <input id="luz" type="text" name="luz" class="form-control">-->
                    <select class="form-control" type="text" id="luz" name="luz">
                        <option selected value="">Luz</option>
                        <option value="sombra">Sombra</option>
                        <option value="med-som">Media sombra</option>
                        <option value="sol">Sol</option>
                    </select>
                </div>
                <div class="col-sm-6">
                    <select class="form-control" type="text" id="ubicacion" name="ubicacion">
                        <option selected value="">Ubicacion</option>
                        <option value="interior">Interior</option>
                        <option value="exterior">Exterior</option>
                        <option value="interior/exterior">Interior/Exterior</option>
                    </select>
                </div>
                <div class="col-sm-6">
                    <select class="form-control" type="text" id="estilo" name="estilo">
                        <option selected value="">Flor</option>
                        <option value="si">Si</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="col-sm-6">
                    <select class="form-control" type="text" id="estilo" name="destacado">
                        <option selected value="">Destacado</option>
                        <option value="1">Si</option>
                        <option value="0">No</option>
                    </select>
                </div>
                <!--Portada-->
                <div class="row">
                <div class="col-sm-6">
                    <label class="form-label" for="portada">Foto</label>
                    <input id="archivo" type="file" name="portada" class="form-control"
                        accept="image/png, .jpeg, .jpg, image/gif">
                </div>
                <!--Fin Portada-->
                <!--Pruebas de imagenes-->
                <div class="col-sm-6">
                    
                        <label class="control-label" for="file_img">Imagenes</label>
                        <input type="file" class="form-control" id="gallery-photo-add" accept="image/png, .jpeg, .jpg, image/gif"
                            name="imagenes" multiple>
                        <div class="gallery d-flex mt-1 " style="max-width: 200px;"></div>
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

                        <script>
                            $(function () {
                                // Multiple images preview in browser
                                var imagesPreview = function (input, placeToInsertImagePreview) {
                                    $(placeToInsertImagePreview).empty();
                                    if (input.files) {
                                        var filesAmount = input.files.length;
                                        for (i = 0; i < filesAmount; i++) {
                                            var reader = new FileReader();
                                            reader.onload = function (event) {
                                                var img = $($.parseHTML('<img>')).attr('src', event.target.result);
                                                img.attr('width', "200px");
                                                img.addClass("mx-2");
                                                img.appendTo(placeToInsertImagePreview);
                                            }
                                            reader.readAsDataURL(input.files[i]);
                                        }
                                    }
                                };
                                $('#gallery-photo-add').on('change', function () {
                                    imagesPreview(this, 'div.gallery');
                                });
                            });
                        </script>
                    
                </div> <!-- form-group // -->
                <!--Fin Pruebas de imagenes-->
            </div>
                <div class="col-sm-12 pull right">
                    <button class="btn btn-success" type="submit" style="float:right;">Next
                </div>
                <hr>
            </div>  

            <div th:if="${error}" class="alert alert-danger alert dismissible fade show mt-3" role="alert">
                <span th:text="${error}"></span>
                <button type="button" class="btn-close" data-bs-dismiss="alert" arial-label="Close"></button>
            </div>
        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
</body>

</html>